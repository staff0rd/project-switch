commit:
  conventional: false
  pull: false
  push: true
notify:
  enabled: true
complexity:
  ignore:
    - "**/*test.ts*"
run:
  - name: build
    command: powershell
    args:
      - -File
      - ./build.ps1
  - name: verify:machete
    command: docker
    args:
      - compose
      - run
      - --rm
      - lint
  - name: verify:fmt
    command: docker
    args:
      - compose
      - run
      - --rm
      - lint
      - cargo
      - fmt
      - --check
  - name: verify:clippy
    command: docker
    args:
      - compose
      - run
      - --rm
      - lint
      - cargo
      - clippy
      - --
      - -D
      - warnings
  - name: verify:audit
    command: docker
    args:
      - compose
      - run
      - --rm
      - lint
      - cargo
      - audit
  - name: verify:duplicate-code
    command: npx
    args:
      - jscpd
      - --exitCode
      - "1"
      - -r
      - consoleFull
      - --pattern
      - "**/*.rs"
      - .
